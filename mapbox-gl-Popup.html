<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8' />
    <title>Display a map</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.51.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.51.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>

<body>

    <div id='map'></div>
    <script>
        //mapboxgl.accessToken = 'pk.eyJ1IjoiZHV5dXgiLCJhIjoiY2o4bWl6OG02MHptcDJ3bnh4OTM2enNrYSJ9.QpDcYnXkmpfpHqxw-KXvfg';
        mapboxgl.accessToken = 'pk.eyJ1IjoiZHV5dXgiLCJhIjoiY2o4bWl6OG02MHptcDJ3bnh4OTM2enNrYSJ9.QpDcYnXkmpfpHqxw-KXvfg'
        var map = new mapboxgl.Map({
            container: 'map', // container id
            style: 'mapbox://styles/mapbox/streets-v9', // stylesheet location 
            //style:'mapbox://styles/mapbox/satellite-streets-v10',
            center: [121.50109, 31.23691],
            // logoPosition:'top-right',
            zoom: 8 // starting zoom
        });

        //display poupu
        var img = new Image();
        img.src = './marker-icon.png'
        var popup = new mapboxgl.Popup({
                offset: {
                    'bottom': [0, -42]
                }
            }).setLngLat([121.50109, 31.23691])
            .setHTML('<h1>Hello World!</h1>')

        var marker = new mapboxgl.Marker(img, {
                offset: {
                    x: 0,
                    y: -20.5
                }
            })
            .setLngLat([121.50109, 31.23691])
            .setPopup(popup)
            .addTo(map);
        //.addTo(map);


        // map.on('load', function() {
        //   map.addLayer({
        //     id: 'rpd_parks',
        //     type: 'fill',
        //     source: {
        //       type: 'vector',
        //       url: 'mapbox://mapbox.3o7ubwm8'
        //     },
        //     'source-layer': 'RPD_Parks',
        //     layout: {
        //       visibility: 'visible'
        //     },
        //     paint: {
        //       'fill-color': 'rgba(61,153,80,0.55)'
        //     }
        //   });
        // });
    </script>

</body>

</html>